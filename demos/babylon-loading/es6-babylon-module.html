<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Use Babylon as ES6 module</title>
    <script src="../../babylonscene.js" type="module"></script>


    <style>
        babylon-scene {
            width: 300px;
            height: 300px;
        }
    </style>
</head>
<body>

<h1>Use Babylon as ES6 module</h1>
<p>
    In this demo, both Babylon and the &lt;babylon-scene&gt;
    component are brought in as ES6 modules. Instead of using the Node.js standard Babylon install, we're using "@babylonjs/core",
    as explained <a href="https://doc.babylonjs.com/features/es6_support">here</a>.
</p>

<p>
    Babylon.js is provided by the static method on the loaded application. However, given that Babylon is broken up
    into many ES6 imports, you'll need to feed the stage setup exactly what is needed. With the "defaultstage.js" module
    provided as is, using the Universal Camera and Hemispheric Light, the "Engine", "Scene", "Vector3", "Color3" (if backgroundcolor is set), "UniversalCamera",
    and "HemisphericLight" must be provided and wrapped up in and object. If this stage setup is customized in any way,
    the appropriate modules will need to be imported and wrapped up in a similar fashion.
    <pre>
        import BaseApplication from '../../src/baseapplication.js';
        import { Engine } from "@babylonjs/core/Engines/engine";
        import { Scene } from "@babylonjs/core/scene";
        import { Vector3, Color3 } from "@babylonjs/core/Maths/math";
        import { UniversalCamera } from "@babylonjs/core/Cameras/UniversalCamera";
        import { HemisphericLight } from "@babylonjs/core/Lights/hemisphericLight";
        import { MeshBuilder } from "@babylonjs/core/Meshes/meshBuilder.js";
        import { StandardMaterial } from "@babylonjs/core/Materials/standardMaterial";

        export default class extends BaseApplication {
            static get Babylon() {
                return {
                    Engine: Engine,
                    Scene: Scene,
                    UniversalCamera: UniversalCamera,
                    Vector3: Vector3,
                    Color3: Color3,
                    HemisphericLight: HemisphericLight
                };
            }
            ...
    </pre>
</p>

<p>
    As Babylon.js uses bare module imports, a plain HTTP server will not be able to accommodate running Babylon.js this way.
    Instead, <a href="https://open-wc.org/developing/es-dev-server.html">Open WC's ES Dev Server</a> is a great solution.
</p>


<babylon-scene app="app-es6-module.js"></babylon-scene>
</body>
</html>
